{"version":3,"sources":["webpack:///./src/views/CheckOrder.vue?6146","webpack:///./src/views/CheckOrder.vue?4dc5","webpack:///src/views/CheckOrder.vue","webpack:///./src/views/CheckOrder.vue?fde2","webpack:///./src/views/CheckOrder.vue?126f"],"names":["_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_CheckOrder_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_CheckOrder_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0___default","n","render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","active","isLoading","on","update:active","$event","_m","_b","getProduct","_v","_l","item","key","id","_s","product","title","_e","qty","_f","final_total","colspan","for","directives","name","rawName","value","form","user","expression","class","is-invalid","errors","has","type","placeholder","domProps","input","target","composing","$set","cols","rows","click","preventDefault","back","createOrder","staticRenderFns","role","CheckOrdervue_type_script_lang_js_","data","products","status","loadingItem","email","phone","address","message","methods","getCart","vm","api","concat","$http","get","then","response","deleteCartItem","delete","console","log","checkCoupon","coupon","code","couponCode","post","_this","order","$validator","validate","valid","success","orderId","$router","push","go","created","views_CheckOrdervue_type_script_lang_js_","component","Object","componentNormalizer","__webpack_exports__"],"mappings":"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","file":"js/chunk-2dcdeb06.83da97c5.js","sourcesContent":["import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CheckOrder.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CheckOrder.vue?vue&type=style&index=0&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"container\"},[_c('loading',{attrs:{\"active\":_vm.isLoading},on:{\"update:active\":function($event){_vm.isLoading=$event}}}),_vm._m(0),_c('div',{staticClass:\"row justify-content-center\"},[_c('div',_vm._b({staticClass:\"col-md-8\"},'div',_vm.getProduct,false),[_c('h1',{staticClass:\"text-center\"},[_vm._v(\"結帳清單\")]),_c('table',{staticClass:\"table table-striped\"},[_vm._m(1),_c('tbody',_vm._l((_vm.getProduct.carts),function(item){return _c('tr',{key:item.id},[_c('td',{staticClass:\"align-middle\"},[_vm._v(\"\\n            \"+_vm._s(item.product.title)+\"\\n            \"),(item.coupon)?_c('div',{staticClass:\"text-success\"},[_vm._v(\"已套用優惠券\")]):_vm._e()]),_c('td',{staticClass:\"align-middle\"},[_vm._v(_vm._s(item.qty)+\" 本\")]),_c('td',{staticClass:\"align-middle\"},[_vm._v(_vm._s(_vm._f(\"currency\")(item.final_total)))])])}),0),_c('tfoot',[_c('tr',[_c('td',{attrs:{\"colspan\":\"2\"}},[_vm._v(\"總計\")]),_c('td',[_vm._v(_vm._s(_vm._f(\"currency\")(_vm.getProduct.final_total)))])])])])])]),_c('div',{staticClass:\"row justify-content-center\"},[_c('form',{staticClass:\"col-md-6\"},[_c('div',{staticClass:\"form-group\"},[_c('label',{attrs:{\"for\":\"useremail\"}},[_vm._v(\"Email\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.form.user.email),expression:\"form.user.email\"},{name:\"validate\",rawName:\"v-validate\",value:('required|email'),expression:\"'required|email'\"}],staticClass:\"form-control\",class:{'is-invalid': _vm.errors.has('email')},attrs:{\"type\":\"email\",\"name\":\"email\",\"id\":\"useremail\",\"placeholder\":\"請輸入 Email\"},domProps:{\"value\":(_vm.form.user.email)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.form.user, \"email\", $event.target.value)}}}),(_vm.errors.has('email'))?_c('span',{staticClass:\"text-danger\"},[_vm._v(_vm._s('電子郵件欄位不正確'))]):_vm._e()]),_c('div',{staticClass:\"form-group\"},[_c('label',{attrs:{\"for\":\"username\"}},[_vm._v(\"收件人姓名\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.form.user.name),expression:\"form.user.name\"},{name:\"validate\",rawName:\"v-validate\",value:('required'),expression:\"'required'\"}],staticClass:\"form-control\",class:{'is-invalid': _vm.errors.has('name')},attrs:{\"type\":\"text\",\"name\":\"name\",\"id\":\"username\",\"placeholder\":\"輸入姓名\"},domProps:{\"value\":(_vm.form.user.name)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.form.user, \"name\", $event.target.value)}}}),(_vm.errors.has('name'))?_c('span',{staticClass:\"text-danger\"},[_vm._v(_vm._s('欄位的姓名不正確'))]):_vm._e()]),_c('div',{staticClass:\"form-group\"},[_c('label',{attrs:{\"for\":\"usertel\"}},[_vm._v(\"收件人電話\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.form.user.phone),expression:\"form.user.phone\"},{name:\"validate\",rawName:\"v-validate\",value:('required|numeric'),expression:\"'required|numeric'\"}],staticClass:\"form-control\",attrs:{\"type\":\"tel\",\"id\":\"usertel\",\"name\":\"tel\",\"placeholder\":\"請輸入電話\"},domProps:{\"value\":(_vm.form.user.phone)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.form.user, \"phone\", $event.target.value)}}}),(_vm.errors.has('tel'))?_c('span',{staticClass:\"text-danger\"},[_vm._v(_vm._s('欄位的電話不正確'))]):_vm._e()]),_c('div',{staticClass:\"form-group\"},[_c('label',{attrs:{\"for\":\"useraddress\"}},[_vm._v(\"收件人地址\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.form.user.address),expression:\"form.user.address\"},{name:\"validate\",rawName:\"v-validate\",value:('required|'),expression:\"'required|'\"}],staticClass:\"form-control\",attrs:{\"type\":\"text\",\"name\":\"address\",\"id\":\"useraddress\",\"placeholder\":\"請輸入地址\"},domProps:{\"value\":(_vm.form.user.address)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.form.user, \"address\", $event.target.value)}}}),(_vm.errors.has('address'))?_c('span',{staticClass:\"text-danger\"},[_vm._v(\"地址欄位不得留空\")]):_vm._e()]),_c('div',{staticClass:\"form-group\"},[_c('label',{attrs:{\"for\":\"comment\"}},[_vm._v(\"留言\")]),_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.form.message),expression:\"form.message\"}],staticClass:\"form-control\",attrs:{\"name\":\"\",\"id\":\"comment\",\"cols\":\"30\",\"rows\":\"10\"},domProps:{\"value\":(_vm.form.message)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.form, \"message\", $event.target.value)}}})]),_c('div',{staticClass:\"text-right d-flex justify-content-between\"},[_c('button',{staticClass:\"btn btn-primary\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){$event.preventDefault();return _vm.back($event)}}},[_vm._v(\"回上頁\")]),_c('button',{staticClass:\"btn btn-danger\",attrs:{\"type\":\"submit\"},on:{\"click\":function($event){$event.preventDefault();return _vm.createOrder($event)}}},[_vm._v(\"送出訂單\")])])])])],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"row mt-4\"},[_c('div',{staticClass:\"col-md col-12\"},[_c('div',{staticClass:\"alert alert-primary text-center text-primary rounded\",attrs:{\"role\":\"alert\"}},[_vm._v(\"第一步: 輸入資料\")])]),_c('div',{staticClass:\"col-md col-12\"},[_c('div',{staticClass:\"alert alert-light text-center rounded\",attrs:{\"role\":\"alert\"}},[_vm._v(\"第二步: 金流付款\")])]),_c('div',{staticClass:\"col-md col-12\"},[_c('div',{staticClass:\"alert alert-light text-center rounded\",attrs:{\"role\":\"alert\"}},[_vm._v(\"第三步: 完成付款\")])])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('thead',[_c('th',[_vm._v(\"品名\")]),_c('th',[_vm._v(\"數量\")]),_c('th',[_vm._v(\"單價\")])])}]\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"container\">\r\n    <loading :active.sync=\"isLoading\"/>\r\n    <div class=\"row mt-4\">\r\n      <div class=\"col-md col-12\">\r\n        <div class=\"alert alert-primary text-center text-primary rounded\" role=\"alert\">第一步: 輸入資料</div>\r\n      </div>\r\n      <div class=\"col-md col-12\">\r\n        <div class=\"alert alert-light text-center rounded\" role=\"alert\">第二步: 金流付款</div>\r\n      </div>\r\n      <div class=\"col-md col-12\">\r\n        <div class=\"alert alert-light text-center rounded\" role=\"alert\">第三步: 完成付款</div>\r\n      </div>\r\n    </div>\r\n    <div class=\"row justify-content-center\">\r\n      <div class=\"col-md-8\" v-bind=\"getProduct\">\r\n      <h1 class=\"text-center\">結帳清單</h1>\r\n      <table class=\"table table-striped\">\r\n        <thead>\r\n          <th>品名</th>\r\n          <th>數量</th>\r\n          <th>單價</th>\r\n        </thead>\r\n        <tbody>\r\n          <tr v-for=\"(item) in getProduct.carts\" :key=\"item.id\">\r\n            <td class=\"align-middle\">\r\n              {{ item.product.title }}\r\n              <div class=\"text-success\" v-if=\"item.coupon\">已套用優惠券</div>\r\n            </td>\r\n            <td class=\"align-middle\">{{ item.qty }} 本</td>\r\n            <td class=\"align-middle\">{{ item.final_total | currency }}</td>\r\n          </tr>\r\n        </tbody>\r\n        <tfoot>\r\n          <tr>\r\n            <td colspan=\"2\">總計</td>\r\n            <td>{{ getProduct.final_total | currency }}</td>\r\n          </tr>\r\n        </tfoot>\r\n      </table>\r\n    </div>\r\n    </div>\r\n\r\n    <div class=\"row justify-content-center\">\r\n      <form class=\"col-md-6\">\r\n        <div class=\"form-group\">\r\n          <label for=\"useremail\">Email</label>\r\n          <input\r\n            type=\"email\"\r\n            class=\"form-control\"\r\n            :class=\"{'is-invalid': errors.has('email')}\"\r\n            name=\"email\"\r\n            id=\"useremail\"\r\n            v-model=\"form.user.email\"\r\n            placeholder=\"請輸入 Email\"\r\n            v-validate=\"'required|email'\"\r\n          >\r\n          <span class=\"text-danger\" v-if=\"errors.has('email')\">{{'電子郵件欄位不正確'}}</span>\r\n        </div>\r\n        <div class=\"form-group\">\r\n          <label for=\"username\">收件人姓名</label>\r\n          <input\r\n            type=\"text\"\r\n            class=\"form-control\"\r\n            :class=\"{'is-invalid': errors.has('name')}\"\r\n            name=\"name\"\r\n            id=\"username\"\r\n            v-model=\"form.user.name\"\r\n            placeholder=\"輸入姓名\"\r\n            v-validate=\"'required'\"\r\n          >\r\n          <span class=\"text-danger\" v-if=\"errors.has('name')\">{{'欄位的姓名不正確'}}</span>\r\n        </div>\r\n\r\n        <div class=\"form-group\">\r\n          <label for=\"usertel\">收件人電話</label>\r\n          <input\r\n            type=\"tel\"\r\n            class=\"form-control\"\r\n            id=\"usertel\"\r\n            name=\"tel\"\r\n            v-model=\"form.user.phone\"\r\n            placeholder=\"請輸入電話\"\r\n            v-validate=\"'required|numeric'\"\r\n          >\r\n          <span class=\"text-danger\" v-if=\"errors.has('tel')\">{{'欄位的電話不正確'}}</span>\r\n        </div>\r\n\r\n        <div class=\"form-group\">\r\n          <label for=\"useraddress\">收件人地址</label>\r\n          <input\r\n            type=\"text\"\r\n            class=\"form-control\"\r\n            name=\"address\"\r\n            id=\"useraddress\"\r\n            v-model=\"form.user.address\"\r\n            placeholder=\"請輸入地址\"\r\n            v-validate=\"'required|'\"\r\n          >\r\n          <span class=\"text-danger\" v-if=\"errors.has('address')\">地址欄位不得留空</span>\r\n        </div>\r\n\r\n        <div class=\"form-group\">\r\n          <label for=\"comment\">留言</label>\r\n          <textarea\r\n            name\r\n            id=\"comment\"\r\n            class=\"form-control\"\r\n            cols=\"30\"\r\n            rows=\"10\"\r\n            v-model=\"form.message\"\r\n          ></textarea>\r\n        </div>\r\n        <div class=\"text-right d-flex justify-content-between\">\r\n          <button type=\"button\" class=\"btn btn-primary\" @click.prevent=\"back\">回上頁</button>\r\n          <button type=\"submit\" class=\"btn btn-danger\" @click.prevent=\"createOrder\">送出訂單</button>\r\n        </div>\r\n      </form>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n\r\n<script>\r\nimport $ from \"jquery\";\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      products: [],\r\n      product: {}, // 存放modal 資料\r\n      getProduct: {},\r\n      isLoading: false,\r\n      status: {\r\n        //局部 loading 效果\r\n        loadingItem: \"\"\r\n      },\r\n      form: {\r\n        user: {\r\n          name: \"\",\r\n          email: \"\",\r\n          phone: \"\",\r\n          address: \"\"\r\n        },\r\n        message: \"\"\r\n      }\r\n    };\r\n  },\r\n  methods: {\r\n    getCart() {\r\n      const vm = this;\r\n      const api = `${process.env.VUE_APP_APIPATH}/api/${\r\n        process.env.VUE_APP_CUSTOMPATH\r\n      }/cart`;\r\n      this.$http.get(api).then(response => {\r\n        vm.getProduct = response.data.data;\r\n        vm.status.loadingItem = \"\";\r\n        //console.log(\"購物車內容\", vm.getProduct);\r\n      });\r\n    },\r\n    deleteCartItem(id) {\r\n      const vm = this;\r\n      const api = `${process.env.VUE_APP_APIPATH}/api/${\r\n        process.env.VUE_APP_CUSTOMPATH\r\n      }/cart/${id}`;\r\n      vm.isLoading = true;\r\n      this.$http.delete(api).then(response => {\r\n        console.log(vm.getProduct);\r\n        vm.getCart();\r\n        vm.isLoading = false;\r\n      });\r\n    },\r\n    checkCoupon() {\r\n      const vm = this;\r\n      const api = `${process.env.VUE_APP_APIPATH}/api/${\r\n        process.env.VUE_APP_CUSTOMPATH\r\n      }/coupon`;\r\n      const coupon = {\r\n        code: vm.couponCode\r\n      };\r\n      this.$http.post(api, { data: coupon }).then(response => {\r\n        //console.log(\"購物車內容\", response);\r\n        vm.getCart();\r\n      });\r\n    },\r\n    createOrder() {\r\n      const vm = this;\r\n      const api = `${process.env.VUE_APP_APIPATH}/api/${\r\n        process.env.VUE_APP_CUSTOMPATH\r\n      }/order`;\r\n      const order = vm.form;\r\n      vm.isLoading = true;\r\n\r\n      this.$validator.validate().then(valid => {\r\n        if (valid) {\r\n          this.$http.post(api, { data: order }).then(response => {\r\n            console.log(\"check\", response);\r\n            vm.isLoading = true;\r\n            if (response.data.success) {\r\n              console.log(response.data.orderId);\r\n              vm.$router.push(`checklist/${response.data.orderId}`);\r\n              vm.isLoading = false;\r\n            }\r\n          });\r\n        } else {\r\n          //console.log('蘭位不玩政');\r\n        }\r\n      });\r\n    },\r\n    back() {\r\n      this.$router.go(-1);\r\n    }\r\n  },\r\n  created() {\r\n    this.getCart();\r\n  }\r\n};\r\n</script>\r\n\r\n<style>\r\n@media screen and (min-width: 576px){\r\n  .w-md-50{\r\n    width: 50%;\r\n}\r\n}\r\n\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CheckOrder.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CheckOrder.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./CheckOrder.vue?vue&type=template&id=0f740d2f&\"\nimport script from \"./CheckOrder.vue?vue&type=script&lang=js&\"\nexport * from \"./CheckOrder.vue?vue&type=script&lang=js&\"\nimport style0 from \"./CheckOrder.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}