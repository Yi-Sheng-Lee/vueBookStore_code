(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-e599289e"],{"223a":function(t,a,s){"use strict";var e=s("e9a0"),i=s.n(e);i.a},"4de9":function(t,a,s){"use strict";s.r(a);var e=function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"container-fluid"},[s("loading",{attrs:{active:t.isLoading},on:{"update:active":function(a){t.isLoading=a}}}),s("div",{staticClass:"row"},[t._m(0),s("div",{staticClass:"col-sm-9 col-md-10"},[s("div",{staticClass:"tab-content",attrs:{id:"v-pills-tabContent"}},[s("div",{staticClass:"tab-pane fade show active",attrs:{id:"all",role:"tabpanel","aria-labelledby":"v-pills-all-tab"}},[s("div",{staticClass:"row"},t._l(t.filterArray,function(a){return s("div",{key:a.id,staticClass:"col-sm-12 col-md-6 col-lg-4 mb-4"},[s("div",{staticClass:"card border-0 shadow-sm"},[s("div",{staticStyle:{height:"150px","background-size":"cover","background-position":"center"},style:{backgroundImage:"url("+a.imgURL+")"}}),s("div",{staticClass:"card-body"},[s("section",{staticClass:"d-flex justify-content-between"},[s("div",[s("h5",{staticClass:"card-title"},[s("a",{staticClass:"text-dark",attrs:{href:"#"}},[t._v(t._s(a.title))])])]),s("div",{staticClass:"d-flex flex-column justify-content-center align-items-center"},[s("h5",{staticClass:"badge badge-secondary mb-2"},[t._v(t._s(a.language))]),s("h5",{staticClass:"badge badge-secondary"},[t._v(t._s(a.category))])])]),s("p",{staticClass:"card-text"},[t._v(t._s(a.content))]),s("div",{staticClass:"d-flex justify-content-between align-items-baseline"},[a.origin_price!==a.price?s("del",{staticClass:"h6"},[t._v("原價 "+t._s(t._f("currency")(a.origin_price))+" 元")]):s("div",{staticClass:"h6"},[t._v("原價 "+t._s(t._f("currency")(a.origin_price))+" 元")]),a.origin_price!==a.price?s("div",{staticClass:"h6"},[t._v("限時 "+t._s(t._f("currency")(a.price))+" 元")]):t._e()])]),s("div",{staticClass:"card-footer d-flex"},[s("button",{staticClass:"btn btn-outline-secondary btn-sm",attrs:{type:"button"},on:{click:function(s){return s.preventDefault(),t.gotoDetail(a.id)}}},[t.status.loadingItem===a.id?s("i",{staticClass:"fas fa-spinner fa-spin"}):t._e(),t._v("\n                    查看更多\n                  ")]),s("button",{staticClass:"btn btn-outline-danger btn-sm ml-auto",attrs:{type:"button"},on:{click:function(s){return t.addToCart(a.id)}}},[t._v("\n                    加到購物車\n                  ")])])])])}),0)]),s("div",{staticClass:"tab-pane fade",attrs:{id:"office",role:"tabpanel","aria-labelledby":"v-pills-profile-tab"}},[s("div",{staticClass:"row"},t._l(t.filterArrayOffice,function(a){return s("div",{key:a.id,staticClass:"col-sm-12 col-md-6 col-lg-4 mb-4"},[s("div",{staticClass:"card border-0 shadow-sm"},[s("div",{staticStyle:{height:"150px","background-size":"cover","background-position":"center"},style:{backgroundImage:"url("+a.imgURL+")"}}),s("div",{staticClass:"card-body"},[s("section",{staticClass:"d-flex justify-content-between"},[s("div",[s("h5",{staticClass:"card-title"},[s("a",{staticClass:"text-dark",attrs:{href:"#"}},[t._v(t._s(a.title))])])]),s("div",{staticClass:"d-flex flex-column justify-content-center align-items-center"},[s("h5",{staticClass:"badge badge-secondary mb-2"},[t._v(t._s(a.language))]),s("h5",{staticClass:"badge badge-secondary"},[t._v(t._s(a.category))])])]),s("p",{staticClass:"card-text"},[t._v(t._s(a.content))]),s("div",{staticClass:"d-flex justify-content-between align-items-baseline"},[a.origin_price!==a.price?s("del",{staticClass:"h6"},[t._v("原價 "+t._s(t._f("currency")(a.origin_price))+" 元")]):s("div",{staticClass:"h6"},[t._v("原價 "+t._s(t._f("currency")(a.origin_price))+" 元")]),a.origin_price!==a.price?s("div",{staticClass:"h6"},[t._v("限時 "+t._s(t._f("currency")(a.price))+" 元")]):t._e()])]),s("div",{staticClass:"card-footer d-flex"},[s("button",{staticClass:"btn btn-outline-secondary btn-sm",attrs:{type:"button"},on:{click:function(s){return s.preventDefault(),t.gotoDetail(a.id)}}},[t.status.loadingItem===a.id?s("i",{staticClass:"fas fa-spinner fa-spin"}):t._e(),t._v("\n                    查看更多\n                  ")]),s("button",{staticClass:"btn btn-outline-danger btn-sm ml-auto",attrs:{type:"button"},on:{click:function(s){return t.addToCart(a.id)}}},[t.status.loadingItem===a.id?s("i",{staticClass:"fas fa-spinner fa-spin"}):t._e(),t._v("\n                    加到購物車\n                  ")])])])])}),0)]),s("div",{staticClass:"tab-pane fade",attrs:{id:"sql",role:"tabpanel","aria-labelledby":"v-pills-messages-tab"}},[s("div",{staticClass:"row"},t._l(t.filterArrayDB,function(a){return s("div",{key:a.id,staticClass:"col-sm-12 col-md-6 col-lg-4 mb-4"},[s("div",{staticClass:"card border-0 shadow-sm"},[s("div",{staticStyle:{height:"150px","background-size":"cover","background-position":"center"},style:{backgroundImage:"url("+a.imgURL+")"}}),s("div",{staticClass:"card-body"},[s("section",{staticClass:"d-flex justify-content-between"},[s("div",[s("h5",{staticClass:"card-title"},[s("a",{staticClass:"text-dark",attrs:{href:"#"}},[t._v(t._s(a.title))])])]),s("div",{staticClass:"d-flex flex-column justify-content-center align-items-center"},[s("h5",{staticClass:"badge badge-secondary mb-2"},[t._v(t._s(a.language))]),s("h5",{staticClass:"badge badge-secondary"},[t._v(t._s(a.category))])])]),s("p",{staticClass:"card-text"},[t._v(t._s(a.content))]),s("div",{staticClass:"d-flex justify-content-between align-items-baseline"},[a.origin_price!==a.price?s("del",{staticClass:"h6"},[t._v("原價 "+t._s(t._f("currency")(a.origin_price))+" 元")]):s("div",{staticClass:"h6"},[t._v("原價 "+t._s(t._f("currency")(a.origin_price))+" 元")]),a.origin_price!==a.price?s("div",{staticClass:"h6"},[t._v("限時 "+t._s(t._f("currency")(a.price))+" 元")]):t._e()])]),s("div",{staticClass:"card-footer d-flex"},[s("button",{staticClass:"btn btn-outline-secondary btn-sm",attrs:{type:"button"},on:{click:function(s){return s.preventDefault(),t.gotoDetail(a.id)}}},[t.status.loadingItem===a.id?s("i",{staticClass:"fas fa-spinner fa-spin"}):t._e(),t._v("\n                    查看更多\n                  ")]),s("button",{staticClass:"btn btn-outline-danger btn-sm ml-auto",attrs:{type:"button"},on:{click:function(s){return t.addToCart(a.id)}}},[t.status.loadingItem===a.id?s("i",{staticClass:"fas fa-spinner fa-spin"}):t._e(),t._v("\n                    加到購物車\n                  ")])])])])}),0)]),s("div",{staticClass:"tab-pane fade",attrs:{id:"others",role:"tabpanel","aria-labelledby":"v-pills-settings-tab"}},[s("div",{staticClass:"row"},t._l(t.filterArrayOther,function(a){return s("div",{key:a.id,staticClass:"col-sm-12 col-md-6 col-lg-4 mb-4"},[s("div",{staticClass:"card border-0 shadow-sm"},[s("div",{staticStyle:{height:"150px","background-size":"cover","background-position":"center"},style:{backgroundImage:"url("+a.imgURL+")"}}),s("div",{staticClass:"card-body"},[s("section",{staticClass:"d-flex justify-content-between"},[s("div",[s("h5",{staticClass:"card-title"},[s("a",{staticClass:"text-dark",on:{click:function(t){t.preventDefault()}}},[t._v(t._s(a.title))])])]),s("div",{staticClass:"d-flex flex-column justify-content-center align-items-center"},[s("h5",{staticClass:"badge badge-secondary mb-2"},[t._v(t._s(a.language))]),s("h5",{staticClass:"badge badge-secondary"},[t._v(t._s(a.category))])])]),s("p",{staticClass:"card-text"},[t._v(t._s(a.content))]),s("div",{staticClass:"d-flex justify-content-between align-items-baseline"},[a.origin_price!==a.price?s("del",{staticClass:"h6"},[t._v("原價 "+t._s(t._f("currency")(a.origin_price))+" 元")]):s("div",{staticClass:"h6"},[t._v("原價 "+t._s(t._f("currency")(a.origin_price))+" 元")]),a.origin_price!==a.price?s("div",{staticClass:"h6"},[t._v("限時 "+t._s(t._f("currency")(a.price))+" 元")]):t._e()])]),s("div",{staticClass:"card-footer d-flex"},[s("button",{staticClass:"btn btn-outline-secondary btn-sm",attrs:{type:"button"},on:{click:function(s){return s.preventDefault(),t.gotoDetail(a.id)}}},[t.status.loadingItem===a.id?s("i",{staticClass:"fas fa-spinner fa-spin"}):t._e(),t._v("\n                    查看更多\n                  ")]),s("button",{staticClass:"btn btn-outline-danger btn-sm ml-auto",attrs:{type:"button"},on:{click:function(s){return t.addToCart(a.id)}}},[t.status.loadingItem===a.id?s("i",{staticClass:"fas fa-spinner fa-spin"}):t._e(),t._v("\n                    加到購物車\n                  ")])])])])}),0)])])])]),s("Cart")],1)},i=[function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"col-sm-3 col-md-2"},[s("div",{staticClass:"nav flex-sm-column nav-pills text-center justify-content-around sticky-top my-2",attrs:{id:"v-pills-tab",role:"tablist","aria-orientation":"vertical"}},[s("a",{staticClass:"nav-link active",attrs:{id:"v-pills-all-tab","data-toggle":"pill",href:"#all",role:"tab","aria-controls":"v-pills-home","aria-selected":"true"}},[t._v("全部")]),s("a",{staticClass:"nav-link",attrs:{id:"v-pills-office-tab","data-toggle":"pill",href:"#office",role:"tab","aria-controls":"v-pills-profile","aria-selected":"false"}},[t._v("Office系列")]),s("a",{staticClass:"nav-link",attrs:{id:"v-pills-sql-tab","data-toggle":"pill",href:"#sql",role:"tab","aria-controls":"v-pills-messages","aria-selected":"false"}},[t._v("資料庫系列")]),s("a",{staticClass:"nav-link",attrs:{id:"v-pills-others-tab","data-toggle":"pill",href:"#others",role:"tab","aria-controls":"v-pills-settings","aria-selected":"false"}},[t._v("其他程式系列")])])])}],n=s("1157"),c=s.n(n),o=s("b3b1"),r={data:function(){return{products:[],product:{},getProduct:{},isLoading:!1,status:{loadingItem:""},couponCode:""}},components:{Cart:o["a"]},methods:{getProducts:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];var t=this,a="".concat("https://vue-course-api.hexschool.io","/api/").concat("tantanbookstore","/products/all");t.isLoading=!0,this.$http.get(a).then(function(a){t.isLoading=!1,t.products=a.data.products,t.pagination=a.data.pagination})},getSingleItem:function(t){var a=this,s="".concat("https://vue-course-api.hexschool.io","/api/").concat("tantanbookstore","/product/").concat(t);a.status.loadingItem=t,this.$http.get(s).then(function(t){a.isLoading=!1,a.product=t.data.product,a.status.loadingItem=!1,c()("#productModal").modal("show"),a.status.loadingItem="",a.getCart()})},addToCart:function(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,s=this,e="".concat("https://vue-course-api.hexschool.io","/api/").concat("tantanbookstore","/cart"),i={product_id:t,qty:a};this.$http.post(e,{data:i}).then(function(t){c()("#productModal").modal("hide"),t.data.success&&(s.$bus.$emit("messsage:push",t.data.message),s.getCart())})},getCart:function(){var t=this,a="".concat("https://vue-course-api.hexschool.io","/api/").concat("tantanbookstore","/cart");this.$http.get(a).then(function(a){t.getProduct=a.data.data,t.status.loadingItem="",t.$bus.$emit("orderEvent",t.getProduct)})},gotoDetail:function(t){this.$router.push("/detailbook/".concat(t))}},computed:{filterArray:function(){var t=this;return t.products.filter(function(t){return 1===t.is_enable})},filterArrayOther:function(){var t=this;return t.products.filter(function(t){return"其它程式"===t.category&&1===t.is_enable})},filterArrayDB:function(){var t=this;return t.products.filter(function(t){return"資料庫"===t.category&&1===t.is_enable})},filterArrayOffice:function(){var t=this;return t.products.filter(function(t){return"Office"===t.category&&1===t.is_enable})}},created:function(){this.getProducts(),this.getCart()}},l=r,d=(s("e8ad"),s("2877")),u=Object(d["a"])(l,e,i,!1,null,"7bb06acc",null);a["default"]=u.exports},"7fe1":function(t,a,s){},b3b1:function(t,a,s){"use strict";var e=function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",[s("div",{staticClass:"cart-car"},[t._m(0),s("p",{staticClass:"nums"},[t._v(t._s(t.len))])]),s("div",{staticClass:"modal fade",attrs:{id:"cartModal",tabindex:"-1",role:"dialog","aria-labelledby":"cartModalTitle","aria-hidden":"true"}},[s("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[s("div",{staticClass:"modal-content"},[t._m(1),s("div",{staticClass:"modal-body"},[s("div",t._b({staticClass:"w-75 mx-auto my-5"},"div",t.getProduct,!1),[0===t.len?s("div",{staticClass:"text-center"},[s("h4",[t._v("購物車已空，快去購物吧")])]):s("table",{staticClass:"table"},[t._m(2),s("tbody",t._l(t.tempProduct.carts,function(a){return s("tr",{key:a.id},[s("td",{staticClass:"align-middle"},[s("button",{staticClass:"btn btn-outline-danger btn-sm",attrs:{type:"button"},on:{click:function(s){return t.deleteCartItem(a.id)}}},[s("i",{staticClass:"far fa-trash-alt"})])]),s("td",{staticClass:"align-middle"},[t._v("\n                    "+t._s(a.product.title)+"\n                    "),a.coupon?s("div",{staticClass:"text-success"},[t._v("已套用優惠券")]):t._e()]),s("td",{staticClass:"align-middle"},[t._v(t._s(a.qty))]),s("td",{staticClass:"align-middle text-right"},[t._v(t._s(Math.floor(a.final_total)))])])}),0),s("tfoot",[s("tr",[s("td",{staticClass:"text-right",attrs:{colspan:"3"}},[t._v("總計")]),s("td",{staticClass:"text-right"},[t._v(t._s(t.tempProduct.total))])]),t.tempProduct.final_total!==t.tempProduct.total?s("tr",[s("td",{staticClass:"text-right text-success",attrs:{colspan:"3"}},[t._v("折扣價")]),s("td",{staticClass:"text-right text-success"},[t._v(t._s(Math.floor(t.tempProduct.final_total)))])]):t._e()])]),0!==t.len?s("div",{staticClass:"input-group mb-3 input-group-sm"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.couponCode,expression:"couponCode"}],staticClass:"form-control",attrs:{type:"text",placeholder:"請輸入優惠碼 (試試看 tantan 吧)"},domProps:{value:t.couponCode},on:{input:function(a){a.target.composing||(t.couponCode=a.target.value)}}}),s("div",{staticClass:"input-group-append"},[s("button",{staticClass:"btn btn-outline-secondary",attrs:{type:"button"},on:{click:t.checkCoupon}},[t._v("套用優惠碼")])])]):t._e()])]),0!==t.len?s("div",{staticClass:"modal-footer"},[s("button",{staticClass:"btn btn-primary",attrs:{type:"button","data-dismiss":"modal"},on:{click:t.goCheck}},[t._v("結帳去")])]):t._e()])])])])},i=[function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("a",{attrs:{href:"#","data-toggle":"modal","data-target":"#cartModal"}},[s("i",{staticClass:"fas fa-shopping-cart fa-2x"})])},function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"modal-header"},[s("h5",{staticClass:"modal-title",attrs:{id:"cartModalTitle"}},[t._v("購買清單")]),s("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[s("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])])},function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("thead",[s("th"),s("th",[t._v("品名")]),s("th",[t._v("數量")]),s("th",[t._v("單價")])])}],n=(s("1157"),{data:function(){return{getProduct:{},couponCode:"",tempProduct:{},len:0}},methods:{getCart:function(){var t=this,a="".concat("https://vue-course-api.hexschool.io","/api/").concat("tantanbookstore","/cart");this.$http.get(a).then(function(a){t.getProduct=a.data.data,t.tempProduct=a.data.data,t.len=a.data.data.carts.length})},deleteCartItem:function(t){var a=this,s="".concat("https://vue-course-api.hexschool.io","/api/").concat("tantanbookstore","/cart/").concat(t);this.$http.delete(s).then(function(t){a.getCart()})},checkCoupon:function(){var t=this,a="".concat("https://vue-course-api.hexschool.io","/api/").concat("tantanbookstore","/coupon"),s={code:t.couponCode};this.$http.post(a,{data:s}).then(function(a){t.getCart()})},goCheck:function(){this.$router.push("/checkorder")}},created:function(){var t=this;t.getCart(),t.$bus.$on("orderEvent",function(a){t.tempProduct=a,t.len=a.carts.length})}}),c=n,o=(s("223a"),s("2877")),r=Object(o["a"])(c,e,i,!1,null,null,null);a["a"]=r.exports},e8ad:function(t,a,s){"use strict";var e=s("7fe1"),i=s.n(e);i.a},e9a0:function(t,a,s){}}]);
//# sourceMappingURL=chunk-e599289e.55dcfa0d.js.map